import{_ as i,c as a,o as n,ae as l}from"./chunks/framework.rqSSE3Un.js";const d=JSON.parse('{"title":"app.vue","description":"","frontmatter":{},"headers":[],"relativePath":"NuxtDocs/CoreEssentials/DirectoryStructure/appvue.md","filePath":"NuxtDocs/CoreEssentials/DirectoryStructure/appvue.md"}'),p={name:"NuxtDocs/CoreEssentials/DirectoryStructure/appvue.md"};function h(k,s,t,e,r,F){return n(),a("div",null,s[0]||(s[0]=[l(`<h1 id="app-vue" tabindex="-1">app.vue <a class="header-anchor" href="#app-vue" aria-label="Permalink to &quot;app.vue&quot;">​</a></h1><details class="details custom-block"><summary>理论阐述</summary><p><strong>1. 什么是 app.vue 文件？</strong></p><blockquote><ul><li><code>app.vue</code> 是 Nuxt3 应用的根组件和核心入口文件。它作为整个应用的顶层容器，负责初始化应用框架、定义全局布局结构，并提供应用级别的功能集成。</li></ul></blockquote><hr><p><strong>2. 有什么用？</strong></p><blockquote><ul><li><strong>应用入口</strong>：整个 Nuxt 应用的启动点</li><li><strong>全局布局</strong>：定义所有页面共享的布局结构</li><li><strong>上下文提供</strong>：为应用提供全局上下文（如状态管理、主题等）</li><li><strong>错误处理</strong>：定义全局错误边界</li><li><strong>生命周期管理</strong>：控制应用级别的生命周期钩子</li><li><strong>全局功能集成</strong>：集成第三方库、全局样式等</li></ul></blockquote><hr><p><strong>3. 关键功能</strong></p><blockquote><ul><li><strong>页面内容渲染（通过 <code>&lt;NuxtPage&gt;</code>）</strong></li><li><strong>布局系统集成（通过 <code>&lt;NuxtLayout&gt;</code>）</strong></li><li><strong>全局状态初始化</strong></li><li><strong>错误边界处理</strong></li><li><strong>SEO 元数据管理</strong></li><li><strong>全局样式引入</strong></li></ul></blockquote><hr><p><strong>4. 文件位置</strong></p><blockquote><p>当然在实际开发的项目中是由具体的项目而定，这里只是给个参考</p></blockquote><div class="language-text vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">text</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span>your-project/</span></span>
<span class="line"><span>  ├── app.vue           # 应用入口文件</span></span>
<span class="line"><span>  ├── nuxt.config.ts    # 其他同级文件或目录</span></span>
<span class="line"><span>  ├── package.json      # 其他同级文件或目录</span></span>
<span class="line"><span>  └── ...               # 其他同级文件或目录</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><hr><p><strong>5. 需要配置吗？</strong></p><blockquote><ul><li><strong>不需要</strong>额外配置，Nuxt3 会自动识别根目录下的 app.vue 文件作为应用入口。如果不存在 app.vue，Nuxt 会使用默认入口。</li></ul></blockquote><hr><p><strong>6. 与 layouts 目录的关系：</strong></p><table tabindex="0"><thead><tr><th><strong>特性</strong></th><th><strong>app.vue</strong></th><th><strong>layouts 目录</strong></th></tr></thead><tbody><tr><td>层级</td><td>顶级入口</td><td>页面级布局</td></tr><tr><td>使用范围</td><td>全局唯一</td><td>可定义多个布局</td></tr><tr><td>内容</td><td>整个应用结构</td><td>页面内容包裹</td></tr><tr><td>页面指定</td><td>不涉及</td><td>通过 definePageMeta 指定</td></tr><tr><td>错误处理</td><td>可定义全局错误边界</td><td>通常不处理错误(可以创建错误页面的布局)</td></tr></tbody></table><hr></details><details class="details custom-block"><summary>代码示例</summary><p><strong>1. 基础结构</strong></p><p><strong><code>app.vue</code>：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  &lt;!-- 应用根容器 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">    &lt;!-- 全局导航 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">AppHeader</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">    </span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">    &lt;!-- 页面内容出口 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">    </span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">    &lt;!-- 全局页脚 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">AppFooter</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 全局组件（如果未自动导入）</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#8FBCBB;"> AppHeader</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@/components/AppHeader.vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#8FBCBB;"> AppFooter</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@/components/AppFooter.vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">/* 全局样式 */</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">body</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  margin</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  font-family</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">Arial</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#81A1C1;"> sans-serif</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br></div></div><hr><p><strong>2. 添加错误边界</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtErrorBoundary</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">    &lt;!-- 默认插槽：主要内容 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">    </span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">    &lt;!-- 错误处理插槽 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> #</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">error</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">      &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">error-container</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">h1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">应用出错</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">h1</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">{{ error.message }}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">p</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">        &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> @click</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">resetError</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">重试</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">button</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">      &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtErrorBoundary</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> resetError</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> clearError</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> redirect</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">/</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><hr><p><strong>3. 集成布局系统</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  &lt;!-- 使用默认布局 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtLayout</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtLayout</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 动态设置布局</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> route</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRoute</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> layout</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> computed</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> route</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">meta</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">layout</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ||</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">default</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><p><strong>4. 全局状态提供</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 提供全局主题状态</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> theme</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> ref</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">provide</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">theme</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> theme</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 切换主题函数</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> toggleTheme</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  theme</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> theme</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ===</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ?</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">dark</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> :</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> :class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">\`theme-\${theme}\`</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">button</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> @click</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">toggleTheme</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">切换主题</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">button</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><hr><p><strong>5. 全局Head配置</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">useHead</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  titleTemplate</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">title</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> title</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ?</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> \`</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">\${</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">title</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">}</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;"> - 我的网站</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">\`</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> :</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">我的网站</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">  meta</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">    {</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> charset</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">utf-8</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">    {</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">viewport</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> content</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">width=device-width, initial-scale=1</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  ]</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">  link</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> [</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">    {</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> rel</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">icon</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> type</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">image/x-icon</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;"> href</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">/favicon.ico</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  ]</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">  bodyAttrs</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">    class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">min-h-screen bg-gray-50</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><hr></details><details class="details custom-block"><summary>问题补充</summary><p><strong>1. 身份验证状态初始化</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> auth</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useAuthStore</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 应用初始化时检查用户登录状态</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">onMounted</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">async</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">!</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">auth</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">user</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">    await</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> auth</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">refreshUser</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><hr><p><strong>2. 全局监听路由变化</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> router</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRouter</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 监听路由变化</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">router</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">beforeEach</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">to</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">\`</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">从 </span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">\${</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">from</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">path</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">}</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;"> 跳转到 </span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">\${</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">to</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">path</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">}</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">\`</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  useTrackPageView</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">to</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">path</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 页面加载时执行</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">onMounted</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">应用已挂载</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><hr><p><strong>3. 多语言支持</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> locale</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> setLocale</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useI18n</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 根据用户设置或浏览器语言设置初始语言</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">onMounted</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> savedLocale</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> localStorage</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">getItem</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">locale</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> browserLocale</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> navigator</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">language</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">split</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">-</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)[</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">]</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  setLocale</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">savedLocale</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ||</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> browserLocale</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ||</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">zh</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><hr><p><strong>4. 性能监控</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">process</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">client</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 客户端性能监控</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  window</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">addEventListener</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">load</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> ()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> timing</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> performance</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">timing</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">页面加载耗时:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> timing</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">loadEventEnd</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> -</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> timing</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">navigationStart</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  </span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 路由性能监控</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> router</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRouter</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  let</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> navigationStart</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;"> 0</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  </span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  router</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">beforeEach</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">    navigationStart</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> performance</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">now</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  </span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  router</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">afterEach</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">    const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> duration</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> performance</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">now</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">() </span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">-</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> navigationStart</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">\`</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">路由切换耗时: </span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">\${</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">duration</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">toFixed</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">2</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">}</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">ms</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">\`</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><hr><p><strong>5. 环境特定逻辑</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 根据环境变量执行不同逻辑</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> runtimeConfig</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRuntimeConfig</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">runtimeConfig</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">public</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">env</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ===</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">production</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 生产环境初始化</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  initAnalytics</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> else</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 开发环境逻辑</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">log</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">开发模式</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><hr><p><strong>6. 最佳实践</strong></p><p>1.<strong>保持精简：</strong></p><blockquote><ul><li>避免在 app.vue 中添加过多业务逻辑</li><li>将复杂功能拆分为可组合函数或插件</li></ul></blockquote><p>2.<strong>组件拆分：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">AppLayout</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">AppLayout</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 将布局组件拆分到单独文件</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#8FBCBB;"> AppLayout</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@/layouts/AppLayout.vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>3.<strong>错误处理：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtErrorBoundary</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> @</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">error</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">handleGlobalError</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  &lt;NuxtPage /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtErrorBoundary</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> handleGlobalError</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  console</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">全局错误:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;"> error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  useTrackError</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">error</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><p>4.<strong>状态管理：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 使用Pinia进行全局状态管理</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> store</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useMainStore</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 初始化必要状态</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">store</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">initialize</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>5.<strong>性能优化：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 延迟加载非关键组件</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> HeavyComponent</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> defineAsyncComponent</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> </span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@/components/HeavyComponent.vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>6.<strong>SEO优化：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">useHead</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">  script</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> [</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">    type</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">application/ld+json</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">    innerHTML</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> JSON</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">stringify</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">      &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@context</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">https://schema.org</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">      &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@type</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">WebSite</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">      name</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">我的网站</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">      url</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">https://example.com</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">    }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">]</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><hr><p><strong>7. 常见错误</strong></p><p>1.<strong>缺少 <code>&lt;NuxtPage&gt;</code>：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">&lt;!-- 错误：忘记添加页面出口 --&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">没有页面内容</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>2.<strong>服务端兼容问题：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 错误：在服务端访问 window</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">onMounted</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> token</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> window</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">localStorage</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">getItem</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">token</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// ❌ 服务端会报错</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>3.<strong>过度使用全局状态：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 错误：将页面级状态放在全局</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> pageTitle</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> ref</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">首页</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// ❌ 应放在页面组件中</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>4.<strong>样式污染：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> scoped</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  /* 错误：scoped 在 app.vue 中通常无效 */</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>5.<strong>重复导入：</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 错误：重复导入已自动导入的组件</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">import</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span><span style="--shiki-light:#24292EFF;--shiki-dark:#8FBCBB;"> useHead</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> }</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@unhead/vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;"> // ❌ Nuxt 已自动导入</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><hr><p><strong>8. 高级技巧</strong></p><p>1.<strong>动态主题切换</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> theme</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> ref</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">// 监听系统主题变化</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">process</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">client</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> darkModeMediaQuery</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> window</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">matchMedia</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">(prefers-color-scheme: dark)</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  theme</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> darkModeMediaQuery</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">matches</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ?</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">dark</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> :</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">  </span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  darkModeMediaQuery</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">addEventListener</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">change</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> (</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">e</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    theme</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> e</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">matches</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ?</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">dark</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> :</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">light</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> :class</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">theme</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">dark</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  background-color</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;"> #</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">1a202c</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  color</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;"> #</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">e2e8f0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">light</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  background-color</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;"> #</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">ffffff</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  color</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;"> #</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">2d3748</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br></div></div><p>2.<strong>全局加载状态</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">AppLoadingBar</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> v-if</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">isLoading</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">    &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">div</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> isLoading</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> ref</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#81A1C1;">false</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> router</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRouter</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">router</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">beforeEach</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  isLoading</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#81A1C1;"> true</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">router</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">afterEach</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">  isLoading</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#1976D2;--shiki-dark:#81A1C1;"> false</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">}</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><p>3.<strong>多入口支持（高级）</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 根据条件渲染不同内容</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  const</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> isAdminApp</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> computed</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> useRoute</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">path</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">startsWith</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">/admin</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">))</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#C2C3C5;--shiki-dark:#616E88;">  // 提供不同的应用上下文</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  provide</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">appContext</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> isAdminApp</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">value</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> ?</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">admin</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> :</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">main</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> v-if</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">isAdminApp</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> :layout</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">&#39;admin&#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> v-else</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>4.<strong>集成第三方SDK</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> setup</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">  import</span><span style="--shiki-light:#1976D2;--shiki-dark:#81A1C1;"> *</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> as</span><span style="--shiki-light:#24292EFF;--shiki-dark:#8FBCBB;"> Sentry</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> from</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">@sentry/vue</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">  onMounted</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">()</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;"> =&gt;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">    if</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> (</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">process</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">client</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">) </span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">      Sentry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">init</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">(</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">{</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">        app</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> nuxtApp</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9;">vueApp</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">        dsn</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;"> &#39;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">YOUR_DSN</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&#39;</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">        integrations</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;"> [</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">new</span><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;"> Sentry</span><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">.</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;">BrowserTracing</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">()]</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#88C0D0;">        tracesSampleRate</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;"> 1.0</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">      }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">    }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span><span style="--shiki-light:#24292EFF;--shiki-dark:#D8DEE9FF;">)</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">script</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><p>5.<strong>自定义过渡效果</strong></p><div class="language-vue vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki shiki-themes min-light nord vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">  &lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">NuxtPage</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;"> :transition</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">=</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">{</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">    name: &#39;page&#39;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">    mode: &#39;out-in&#39;,</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">    onBeforeEnter: () =&gt; { /* 自定义逻辑 */ },</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">    onAfterEnter: () =&gt; { /* 自定义逻辑 */ }</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#A3BE8C;">  }</span><span style="--shiki-light:#22863A;--shiki-dark:#ECEFF4;">&quot;</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;"> /&gt;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">template</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">page-enter-active</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">page-leave-active</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    transition</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#88C0D0;"> opacity </span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">0.3</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">s</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span><span style="--shiki-light:#1976D2;--shiki-dark:#88C0D0;"> transform </span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">0.3</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">s</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">page-enter-from</span><span style="--shiki-light:#212121;--shiki-dark:#ECEFF4;">,</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#ECEFF4;">  .</span><span style="--shiki-light:#6F42C1;--shiki-dark:#8FBCBB;">page-leave-to</span><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;"> {</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    opacity</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;"> 0</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#1976D2;--shiki-dark:#D8DEE9;">    transform</span><span style="--shiki-light:#D32F2F;--shiki-dark:#ECEFF4;">:</span><span style="--shiki-light:#6F42C1;--shiki-dark:#88C0D0;"> translateY</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;">(</span><span style="--shiki-light:#1976D2;--shiki-dark:#B48EAD;">20</span><span style="--shiki-light:#D32F2F;--shiki-dark:#81A1C1;">px</span><span style="--shiki-light:#1976D2;--shiki-dark:#ECEFF4;">)</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">;</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#ECEFF4;">  }</span></span>
<span class="line"><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&lt;/</span><span style="--shiki-light:#22863A;--shiki-dark:#81A1C1;">style</span><span style="--shiki-light:#24292EFF;--shiki-dark:#81A1C1;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br></div></div><hr></details>`,4)]))}const g=i(p,[["render",h]]);export{d as __pageData,g as default};
